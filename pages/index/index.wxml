<!--pages/index/index.wxml-->
<view class="page-container">
  
  <!-- Header é¡¶éƒ¨æ  -->
  <view class="header">
    <view class="header-left">
      <text class="header-welcome">æ¬¢è¿å›æ¥</text>
      <text class="header-title">ä½ å¥½ï¼Œç¾é£Ÿå®¶</text>
    </view>
    <view class="header-right">
      <image wx:if="{{userAvatar}}" class="header-avatar" src="{{userAvatar}}" mode="aspectFill"></image>
      <view wx:else class="header-avatar header-avatar-placeholder"></view>
      <view class="header-notification">
        <text class="notification-icon">ğŸ””</text>
      </view>
    </view>
  </view>

  <!-- Stats Card ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card">
    <view class="stats-item">
      <text class="stats-number">{{stats.totalRestaurants}}</text>
      <text class="stats-label">é¤å…</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-number">{{stats.totalDishes}}</text>
      <text class="stats-label">è®°å½•</text>
    </view>
  </view>

  <!-- Food Grid ç¾é£Ÿç½‘æ ¼ -->
  <view class="food-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘çš„ç¾é£Ÿ</text>
      <text class="section-link" bindtap="onViewAll">æŸ¥çœ‹å…¨éƒ¨</text>
    </view>
    
    <view class="food-grid">
      <view
        class="food-card"
        wx:for="{{restaurants}}"
        wx:key="_id"
        bindtap="onCardTap"
        data-id="{{item._id}}"
      >
        <view class="food-image-wrapper">
          <image class="food-image" src="{{item.coverImage || 'https://placehold.co/400x400/F2F2F7?text=Restaurant'}}" mode="aspectFill"></image>
        </view>
        <view class="food-info">
          <text class="food-name">{{item.name}}</text>
          <view class="food-tags" wx:if="{{item.tags && item.tags.length > 0}}">
            <text class="food-tag" wx:for="{{item.tags}}" wx:key="index" wx:for-item="tag">{{tag}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- FAB æ‚¬æµ®æŒ‰é’® -->
  <view class="fab" bindtap="onAddTap">
    <text>+</text>
  </view>

</view>