<!--pages/add-dishes/add-dishes.wxml-->
<view class="page-container">

  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">Add Dishes</text>
    <text class="page-subtitle">{{restaurantName}}</text>
  </view>

  <!-- èœå“åˆ—è¡¨ -->
  <view class="dishes-section">
    <view class="dishes-list">
      <view
        class="dish-card"
        wx:for="{{dishes}}"
        wx:key="index"
        wx:for-index="idx"
      >
        <!-- å·¦ä¾§ï¼šå›¾ç‰‡å ä½ -->
        <view class="dish-image-placeholder">
          <text class="camera-icon">ğŸ“·</text>
        </view>

        <!-- å³ä¾§ï¼šä¿¡æ¯ -->
        <view class="dish-info">
          <input
            class="dish-name-input"
            model:value="{{dishes[idx].name}}"
            placeholder="Dish name"
            placeholder-class="dish-placeholder"
            maxlength="30"
            data-index="{{idx}}"
          />
          <view class="dish-actions">
            <view class="recommend-toggle">
              <text class="recommend-label">æ¨è</text>
              <switch
                class="recommend-switch"
                checked="{{item.isRecommended}}"
                bindchange="onToggleRecommend"
                data-index="{{idx}}"
                color="#000000"
              />
            </view>
            <!-- åˆ é™¤æŒ‰é’®ï¼ˆå½“èœå“æ•°é‡å¤§äº1æ—¶æ˜¾ç¤ºï¼‰ -->
            <view
              wx:if="{{dishes.length > 1}}"
              class="delete-btn"
              bindtap="onDeleteDish"
              data-index="{{idx}}"
            >
              <text class="delete-icon">ğŸ—‘ï¸</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- æ·»åŠ æ›´å¤šæŒ‰é’® -->
    <view class="add-dish-btn" bindtap="onAddDish">
      <text class="add-dish-text">+ Add another dish</text>
    </view>
  </view>

  <!-- åº•éƒ¨å ä½ -->
  <view class="bottom-spacer"></view>

  <!-- ä¿å­˜æŒ‰é’®ï¼ˆå›ºå®šåœ¨åº•éƒ¨ï¼‰ -->
  <view class="save-button-container">
    <button class="save-button" bindtap="onSave">
      <text class="save-button-text">Save</text>
    </button>
  </view>

</view>
