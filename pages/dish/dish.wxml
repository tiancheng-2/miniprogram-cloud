<!--pages/dish/dish.wxml-->
<view class="page-container">

  <!-- Hero Area é¡¶éƒ¨æ²‰æµ¸åŒº -->
  <view class="hero-area">
    <!-- èœå“å›¾ç‰‡ -->
    <image
      class="hero-image"
      src="{{dish.photoUrl || 'https://placehold.co/600x600/F2F2F7/8E8E93?text=Dish'}}"
      mode="aspectFill"
      lazy-load="{{true}}"
    ></image>

    <!-- æ¸å˜é®ç½© -->
    <view class="hero-mask"></view>

    <!-- è¯„åˆ†æ ‡è®° -->
    <view class="dish-badge {{dish.rating}}">
      <text class="badge-text">
        {{dish.rating === 'must-try' ? 'ğŸ‘ å¿…ç‚¹' : 'âš ï¸ é¿å‘'}}
      </text>
    </view>

    <!-- èœå“åŸºæœ¬ä¿¡æ¯ -->
    <view class="hero-content">
      <text class="dish-name">{{dish.dishName || dish.name || 'åŠ è½½ä¸­...'}}</text>
    </view>
  </view>

  <!-- Info Sheet æ‚¬æµ®ä¿¡æ¯å¡ -->
  <view class="info-sheet">
    <!-- é¤å…ä¿¡æ¯ -->
    <view class="info-item" bindtap="onNavigateToRestaurant">
      <view class="info-icon">ğŸ½ï¸</view>
      <view class="info-content">
        <text class="info-text">{{restaurantName || 'é¤å…'}}</text>
        <text class="info-arrow">â€º</text>
      </view>
    </view>

    <!-- ç¬”è®° -->
    <view class="info-item" wx:if="{{dish.note}}">
      <view class="info-icon">ğŸ“</view>
      <view class="info-content">
        <text class="info-text">{{dish.note}}</text>
      </view>
    </view>

    <!-- æ ‡ç­¾ -->
    <view class="info-tags" wx:if="{{dish.tags && dish.tags.length > 0}}">
      <view class="tag" wx:for="{{dish.tags}}" wx:key="index">
        {{item}}
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨å ä½ -->
  <view class="bottom-spacer"></view>

  <!-- Action Bar åº•éƒ¨æ“ä½œæ  -->
  <view class="action-bar">
    <view class="action-buttons">
      <!-- åˆ†äº«æŒ‰é’® -->
      <button class="action-btn secondary" open-type="share">
        <text class="action-icon">â†—</text>
      </button>

      <!-- ç¼–è¾‘æŒ‰é’® -->
      <view class="action-btn primary" bindtap="onEdit">
        <text class="action-text">ç¼–è¾‘</text>
      </view>

      <!-- åˆ é™¤æŒ‰é’® -->
      <view class="action-btn danger" bindtap="onDelete">
        <text class="action-text">åˆ é™¤</text>
      </view>
    </view>
  </view>

</view>
